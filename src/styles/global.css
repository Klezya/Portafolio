@import "tailwindcss";

/* ──────────────────────────────────────────────
   TOKENS DE DISEÑO  –  Light / Dark
   ────────────────────────────────────────────── */
:root {
  /* Fondos */
  --color-bg: #f8fafc;
  --color-bg-surface: #ffffff;
  --color-bg-muted: #f1f5f9;

  /* Textos */
  --color-text: #0f172a;
  --color-text-muted: #475569;
  --color-text-subtle: #94a3b8;

  /* Bordes */
  --color-border: #e2e8f0;

  /* Acento principal */
  --color-accent: #6366f1;
  --color-accent-hover: #4f46e5;

  /* Sombras */
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / .07), 0 1px 2px -1px rgb(0 0 0 / .07);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / .08), 0 2px 4px -2px rgb(0 0 0 / .08);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .08), 0 4px 6px -4px rgb(0 0 0 / .08);

  /* Tipografía */
  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;

  /* Radios */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;

  /* Transición */
  --transition: 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.dark {
  --color-bg: #0f172a;
  --color-bg-surface: #1e293b;
  --color-bg-muted: #334155;
  --color-text: #f1f5f9;
  --color-text-muted: #94a3b8;
  --color-text-subtle: #64748b;
  --color-border: #334155;
  --color-accent: #818cf8;
  --color-accent-hover: #6366f1;
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / .3), 0 1px 2px -1px rgb(0 0 0 / .3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / .35), 0 2px 4px -2px rgb(0 0 0 / .35);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .4), 0 4px 6px -4px rgb(0 0 0 / .4);
}

/* ──────────────────────────────────────────────
   BASE
   ────────────────────────────────────────────── */
html {
  @apply scroll-smooth antialiased;
  font-family: var(--font-sans);
  background-color: var(--color-bg);
  color: var(--color-text);
  transition: background-color var(--transition), color var(--transition);
}

body {
  @apply min-h-dvh leading-relaxed;
}

a {
  @apply no-underline transition-colors;
  color: var(--color-accent);
}
a:hover {
  color: var(--color-accent-hover);
}

/* ──────────────────────────────────────────────
   COMPONENTES
   ────────────────────────────────────────────── */

/* Contenedor */
.container {
  @apply w-full max-w-6xl mx-auto px-6;
}

/* Card */
.card {
  @apply rounded-xl p-6 transition-shadow;
  background-color: var(--color-bg-surface);
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-sm);
}
.card:hover {
  box-shadow: var(--shadow-md);
}

/* Theme Switch */
.theme-switch {
  @apply relative inline-flex items-center w-14 h-8 rounded-full cursor-pointer;
  padding: 0.2rem;
  background-color: var(--color-bg-muted);
  border: 1px solid var(--color-border);
  transition: background-color 0.4s ease, border-color 0.4s ease;
}
.theme-switch:hover {
  border-color: var(--color-accent);
}
.theme-switch__knob {
  @apply absolute top-[0.2rem] left-[0.2rem] w-6 h-6 rounded-full flex items-center justify-center text-white;
  background-color: var(--color-accent);
  box-shadow: 0 1px 4px rgb(0 0 0 / .2);
  transition: transform 0.4s cubic-bezier(.68,-.2,.27,1.2);
}
.dark .theme-switch__knob {
  transform: translateX(1.5rem);
}
.theme-switch__icons {
  @apply flex justify-between items-center w-full px-1 pointer-events-none;
}
.theme-switch__icons svg {
  @apply w-3.5 h-3.5 transition-opacity;
}
.theme-switch__icon-sun { color: #f59e0b; opacity: 1; }
.theme-switch__icon-moon { color: #818cf8; opacity: 0.4; }
.dark .theme-switch__icon-sun { opacity: 0.4; }
.dark .theme-switch__icon-moon { opacity: 1; }

/* Botones */
.btn-primary {
  @apply inline-flex items-center gap-2 px-5 py-2.5 rounded-lg font-medium text-sm text-white cursor-pointer border-none transition-all;
  background-color: var(--color-accent);
}
.btn-primary:hover {
  @apply -translate-y-0.5 text-white;
  background-color: var(--color-accent-hover);
  box-shadow: var(--shadow-md);
}

.btn-secondary {
  @apply inline-flex items-center gap-2 px-5 py-2.5 rounded-lg font-medium text-sm bg-transparent cursor-pointer transition-colors;
  color: var(--color-text);
  border: 1px solid var(--color-border);
}
.btn-secondary:hover {
  background-color: var(--color-bg-muted);
  color: var(--color-text);
}

/* Badge */
.badge {
  @apply inline-block px-2.5 py-1 rounded-full text-xs font-medium;
  background-color: var(--color-bg-muted);
  color: var(--color-text-muted);
  border: 1px solid var(--color-border);
}

/* Skill Pill */
.skill-pill {
  @apply inline-flex items-center justify-center gap-2.5 w-40 py-3 rounded-xl text-sm font-medium transition-all;
  background-color: var(--color-bg-surface);
  border: 1px solid var(--color-border);
  color: var(--color-text);
}
.skill-pill:hover {
  border-color: var(--color-accent);
  box-shadow: var(--shadow-sm);
  transform: translateY(-2px);
}

/* Focus */
:focus-visible {
  @apply outline-2 outline-offset-2 rounded;
  outline-color: var(--color-accent);
}

/* ──────────────────────────────────────────────
   BLOBS DE FONDO
   ────────────────────────────────────────────── */
.bg-blobs {
  @apply fixed inset-0 -z-10 overflow-hidden pointer-events-none transition-opacity duration-500;
}
.dark .bg-blobs { opacity: 0; }

.bg-blobs__blob {
  @apply absolute rounded-full blur-[70px] opacity-35;
  will-change: transform;
}
.bg-blobs__blob--1 {
  @apply w-[500px] h-[500px] -top-[10%] -left-[5%];
  background: radial-gradient(circle, #818cf8 0%, #6366f1 50%, transparent 70%);
  animation: blob-float-1 18s ease-in-out infinite;
}
.bg-blobs__blob--2 {
  @apply w-[450px] h-[450px] top-[40%] -right-[8%];
  background: radial-gradient(circle, #a78bfa 0%, #7c3aed 50%, transparent 70%);
  animation: blob-float-2 22s ease-in-out infinite;
}
.bg-blobs__blob--3 {
  @apply w-[400px] h-[400px] -bottom-[5%] left-[30%];
  background: radial-gradient(circle, #67e8f9 0%, #06b6d4 50%, transparent 70%);
  animation: blob-float-3 20s ease-in-out infinite;
}
.bg-blobs__blob--4 {
  @apply w-[350px] h-[350px] top-[20%] left-[50%];
  background: radial-gradient(circle, #f0abfc 0%, #d946ef 50%, transparent 70%);
  animation: blob-float-4 24s ease-in-out infinite;
}

@keyframes blob-float-1 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(80px, 60px) scale(1.1); }
  66% { transform: translate(-40px, 100px) scale(0.95); }
}
@keyframes blob-float-2 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(-70px, -50px) scale(1.08); }
  66% { transform: translate(50px, -80px) scale(0.92); }
}
@keyframes blob-float-3 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(60px, -70px) scale(1.05); }
  66% { transform: translate(-50px, -30px) scale(0.98); }
}
@keyframes blob-float-4 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(-90px, 40px) scale(1.12); }
  66% { transform: translate(40px, 70px) scale(0.9); }
}

/* ──────────────────────────────────────────────
   GRID TECH BACKGROUND (Dark Mode)
   ────────────────────────────────────────────── */
.bg-grid {
  @apply fixed inset-0 -z-10 overflow-hidden pointer-events-none opacity-0 transition-opacity duration-500;
}
.dark .bg-grid { opacity: 1; }

.bg-grid__overlay {
  @apply absolute inset-0;
  background-image: 
    linear-gradient(rgba(99, 102, 241, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(99, 102, 241, 0.03) 1px, transparent 1px);
  background-size: 50px 50px;
  background-position: -1px -1px;
}

.bg-grid__line {
  @apply absolute;
  background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.15), transparent);
  width: 200%;
  height: 1px;
  will-change: transform;
}
.bg-grid__line--1 {
  top: 20%;
  left: -50%;
  transform: rotate(-15deg);
  animation: grid-line-1 15s ease-in-out infinite;
}
.bg-grid__line--2 {
  top: 60%;
  left: -50%;
  transform: rotate(10deg);
  animation: grid-line-2 18s ease-in-out infinite;
}
.bg-grid__line--3 {
  top: 40%;
  left: -50%;
  transform: rotate(-5deg);
  animation: grid-line-3 20s ease-in-out infinite;
}

.bg-grid__glow {
  @apply absolute rounded-full blur-[80px];
  will-change: transform, opacity;
}
.bg-grid__glow--1 {
  @apply w-[400px] h-[400px] top-[15%] -left-[10%];
  background: radial-gradient(circle, rgba(99, 102, 241, 0.08) 0%, transparent 70%);
  animation: grid-glow-1 20s ease-in-out infinite;
}
.bg-grid__glow--2 {
  @apply w-[500px] h-[500px] top-[50%] -right-[15%];
  background: radial-gradient(circle, rgba(129, 140, 248, 0.06) 0%, transparent 70%);
  animation: grid-glow-2 25s ease-in-out infinite;
}

@keyframes grid-line-1 {
  0%, 100% { transform: translateX(0) rotate(-15deg); opacity: 0.3; }
  50% { transform: translateX(100px) rotate(-15deg); opacity: 0.6; }
}
@keyframes grid-line-2 {
  0%, 100% { transform: translateX(0) rotate(10deg); opacity: 0.2; }
  50% { transform: translateX(-80px) rotate(10deg); opacity: 0.5; }
}
@keyframes grid-line-3 {
  0%, 100% { transform: translateX(0) rotate(-5deg); opacity: 0.25; }
  50% { transform: translateX(60px) rotate(-5deg); opacity: 0.4; }
}
@keyframes grid-glow-1 {
  0%, 100% { transform: translate(0, 0) scale(1); opacity: 1; }
  50% { transform: translate(50px, 30px) scale(1.1); opacity: 0.8; }
}
@keyframes grid-glow-2 {
  0%, 100% { transform: translate(0, 0) scale(1); opacity: 1; }
  50% { transform: translate(-40px, -50px) scale(1.15); opacity: 0.7; }
}

/* ──────────────────────────────────────────────
   REDUCED MOTION & PERFORMANCE FALLBACK
   ────────────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  .bg-blobs__blob,
  .bg-grid__line,
  .bg-grid__glow {
    animation: none !important;
  }
  
  .bg-blobs__blob {
    filter: blur(40px) !important; /* Reduced blur */
  }
  
  .bg-grid__glow {
    filter: blur(60px) !important;
  }
  
  .fade-in-section {
    transition: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
  
  .section-alt,
  .navbar-glass {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
  
  .dark .section-alt {
    background-color: rgba(30, 41, 59, 0.95);
  }
  
  .navbar-glass {
    background-color: rgba(255, 255, 255, 0.95) !important;
  }
  
  .dark .navbar-glass {
    background-color: rgba(30, 41, 59, 0.95) !important;
  }
}

/* JS-detected low performance mode */
.reduced-motion .bg-blobs__blob,
.reduced-motion .bg-grid__line,
.reduced-motion .bg-grid__glow {
  animation: none !important;
}

.reduced-motion .bg-blobs__blob {
  filter: blur(40px) !important;
}

.reduced-motion .bg-grid__glow {
  filter: blur(60px) !important;
}

.reduced-motion .fade-in-section {
  transition: none !important;
  opacity: 1 !important;
  transform: none !important;
}

.reduced-motion .section-alt,
.reduced-motion .navbar-glass {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.reduced-motion .section-alt {
  background-color: rgba(241, 245, 249, 0.95);
}

.reduced-motion.dark .section-alt {
  background-color: rgba(30, 41, 59, 0.95);
}

.reduced-motion .navbar-glass {
  background-color: rgba(255, 255, 255, 0.95) !important;
}

.reduced-motion.dark .navbar-glass {
  background-color: rgba(30, 41, 59, 0.95) !important;
}

/* ──────────────────────────────────────────────
   SECCIONES
   ────────────────────────────────────────────── */
.section-alt {
  background-color: rgba(241, 245, 249, 0.7);
  backdrop-filter: blur(8px);
}
.dark .section-alt {
  background-color: rgba(30, 41, 59, 0.6);
  backdrop-filter: blur(12px);
  border-top: 1px solid rgba(99, 102, 241, 0.08);
  border-bottom: 1px solid rgba(99, 102, 241, 0.08);
}

.fade-in-section {
  @apply opacity-0 translate-y-8 transition-all duration-700 ease-out;
}
.fade-in-section.is-visible {
  @apply opacity-100 translate-y-0;
}

.navbar-glass {
  background-color: rgba(255, 255, 255, 0.7) !important;
  backdrop-filter: blur(12px) saturate(1.5);
  -webkit-backdrop-filter: blur(12px) saturate(1.5);
}
.dark .navbar-glass {
  background-color: rgba(30, 41, 59, 0.8) !important;
}

/* ──────────────────────────────────────────────
   CONTACTO
   ────────────────────────────────────────────── */
.contact-input {
  @apply w-full py-3 px-4 rounded-lg text-sm leading-relaxed bg-transparent outline-none transition-all;
  border: none;
  border-bottom: 2px solid var(--color-border);
  color: var(--color-text);
}
.contact-input::placeholder {
  color: var(--color-text-subtle);
}
.contact-input:focus {
  border-bottom-color: var(--color-accent);
  background-color: var(--color-bg-surface);
}

.contact-icon-link {
  @apply inline-flex items-center justify-center w-12 h-12 rounded-full transition-all;
  border: 1px solid var(--color-border);
  background-color: var(--color-bg-surface);
  color: var(--color-text-muted);
}
.contact-icon-link:hover {
  @apply -translate-y-1 text-white;
  border-color: var(--color-accent);
  background-color: var(--color-accent);
  box-shadow: 0 6px 20px rgb(99 102 241 / 0.3);
}

.contact-icon-box {
  @apply flex items-center justify-center w-12 h-12 rounded-lg shrink-0;
  background-color: var(--color-bg-muted);
  color: var(--color-accent);
}

.contact-social-link {
  @apply inline-flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all;
  background-color: var(--color-bg-surface);
  border: 1px solid var(--color-border);
  color: var(--color-text);
}
.contact-social-link svg {
  color: var(--color-text-muted);
  transition: color var(--transition);
}
.contact-social-link:hover {
  @apply -translate-y-0.5 text-white;
  border-color: var(--color-accent);
  background-color: var(--color-accent);
  box-shadow: var(--shadow-md);
}
.contact-social-link:hover svg {
  color: #fff;
}
